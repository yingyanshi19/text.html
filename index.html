<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–µè€å¸«çš„å°æ¸¬</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Microsoft JhengHei", å¾®è»Ÿæ­£é»‘é«”, sans-serif; }
        body { background-color: #f0f7ff; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 25px; font-size: 28px; border-bottom: 3px solid #9b59b6; padding-bottom: 15px; }
        h2 { color: #34495e; margin: 25px 0 15px; font-size: 20px; }
        .question { margin-bottom: 30px; padding: 20px; border: 2px solid #e8f4fc; border-radius: 12px; background-color: #ffffff; transition: all 0.3s ease; }
        .question:hover { border-color: #9b59b6; box-shadow: 0 5px 15px rgba(155, 89, 182, 0.1); }
        .question h3 { font-size: 18px; margin-bottom: 15px; color: #2c3e50; display: flex; align-items: center; }
        .question-number { background: #9b59b6; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px; font-weight: bold; }
        .shape-container { display: flex; justify-content: center; margin: 15px 0; min-height: 100px; align-items: center; gap: 15px; flex-wrap: wrap; }
        .answer-area { display: flex; align-items: center; gap: 10px; justify-content: center; margin-top: 15px; flex-wrap: wrap; }
        .num-input { width: 60px; height: 45px; text-align: center; font-size: 20px; border: 2px solid #ddd; border-radius: 6px; transition: border 0.3s; }
        .num-input:focus { border-color: #9b59b6; outline: none; box-shadow: 0 0 5px rgba(155, 89, 182, 0.5); }
        .fraction-line-box { display: flex; flex-direction: column; align-items: center; }
        .fraction-line { width: 50px; height: 2px; background-color: #333; margin: 5px 0; }
        .submit-ans { padding: 10px 20px; background-color: #2ecc71; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; transition: background 0.3s; }
        .submit-ans:hover { background-color: #27ae60; }
        .feedback { margin-top: 12px; text-align: center; font-size: 17px; font-weight: bold; min-height: 24px; padding: 8px; border-radius: 6px; }
        .correct { color: #27ae60; background-color: #e8f8ef; }
        .wrong { color: #e74c3c; background-color: #fdedec; }
        .score-area { text-align: center; font-size: 20px; margin: 25px 0; padding: 20px; background: linear-gradient(135deg, #9b59b6 0%, #3498db 100%); color: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .vertical-fraction { display: flex; flex-direction: column; align-items: center; margin: 0 8px; }
        .vertical-fraction span { font-size: 20px; }
        .vertical-fraction .line { width: 35px; height: 2px; background-color: #000; margin: 3px 0; }
        .word-problem { font-size: 18px; line-height: 1.6; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #9b59b6; }
        .difficulty-tag { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 14px; margin-left: 10px; font-weight: normal; }
        .easy { background: #2ecc71; color: white; }
        .medium { background: #f39c12; color: white; }
        .hard { background: #e74c3c; color: white; }
        .reset-btn { display: block; margin: 30px auto 0; padding: 12px 30px; background-color: #e74c3c; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; transition: background 0.3s; }
        .reset-btn:hover { background-color: #c0392b; }
        
        /* æ–°åœ–å½¢æ¨£å¼ */
        .circle-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; width: 200px; }
        .circle { width: 30px; height: 30px; border-radius: 50%; border: 2px solid #333; }
        .circle.filled { background-color: #3498db; }
        
        .hexagon-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; width: 160px; }
        .hexagon { width: 30px; height: 30px; background-color: #e8f4fc; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); }
        .hexagon.filled { background-color: #e74c3c; }
        
        /* é•·æ–¹å½¢æ¨£å¼ - ç¬¬2é¡Œä½¿ç”¨ */
        .rectangle-container { display: flex; flex-direction: column; align-items: center; }
        .rectangle { width: 180px; height: 80px; border: 2px solid #333; background-color: #f8f9fa; position: relative; }
        .rectangle-parts { display: flex; width: 100%; height: 100%; }
        .rectangle-part { flex: 1; border-right: 1px solid #333; display: flex; align-items: center; justify-content: center; }
        .rectangle-part:last-child { border-right: none; }
        .rectangle-part.filled { background-color: #3498db; }
        
        /* åˆ†å‰²é•·æ–¹å½¢æ¨£å¼ - ç¬¬2é¡Œç‰¹æ®Šæ¨£å¼ */
        .divided-rectangle { width: 180px; height: 100px; border: 2px solid #333; background-color: #f8f9fa; position: relative; }
        .divided-rectangle::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 33.33%;
            height: 100%;
            background-color: #3498db;
        }
        .divided-rectangle::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, 
                transparent 33.33%, 
                #333 33.33%, 
                #333 36.33%, 
                transparent 36.33%,
                transparent 66.66%,
                #333 66.66%,
                #333 69.66%,
                transparent 69.66%
            );
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¢ å–µè€å¸«çš„å°æ¸¬</h1>

        <div class="score-area">
            <div style="font-size: 24px; margin-bottom: 10px;">ğŸ¯ å¾—åˆ†çµ±è¨ˆ</div>
            ç­”å°ï¼š<span id="score">0</span> é¡Œ / ç¸½é¡Œæ•¸ï¼š<span id="total">10</span> é¡Œ
            <div style="margin-top: 10px; font-size: 16px; opacity: 0.9;">é€²åº¦ï¼š<span id="progress">0%</span></div>
        </div>

        <!-- ç¬¬1é¡Œï¼šå…¨æ–°åœ–å½¢é¡Œï¼ˆåœ“å½¢ï¼‰ -->
        <div class="question" data-correct-n="2" data-correct-d="5">
            <h3><span class="question-number">1</span> å¡«è‰²åœ“å½¢ä½”å…¨éƒ¨åœ“å½¢çš„å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ<span class="difficulty-tag easy">ç°¡å–®</span></h3>
            <div class="shape-container">
                <div class="circle-grid">
                    <div class="circle filled"></div>
                    <div class="circle filled"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                    <div class="circle"></div>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬2é¡Œï¼šä¿®æ”¹ç‚ºé•·æ–¹å½¢åœ–å½¢ -->
        <div class="question" data-correct-n="1" data-correct-d="3">
            <h3><span class="question-number">2</span> è—è‰²éƒ¨åˆ†ä½”æ•´å€‹é•·æ–¹å½¢çš„å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ<span class="difficulty-tag easy">ç°¡å–®</span></h3>
            <div class="shape-container">
                <div class="rectangle-container">
                    <div class="divided-rectangle"></div>
                    <div style="margin-top: 15px; font-size: 16px; color: #666;">
                        é•·æ–¹å½¢è¢«å¹³åˆ†æˆ3ç­‰ä»½ï¼Œå…¶ä¸­1ä»½è¢«å¡—è—è‰²
                    </div>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬3é¡Œï¼šå…¨æ–°è¨ˆç®—é¡Œ -->
        <div class="question" data-correct-n="2" data-correct-d="7">
            <h3><span class="question-number">3</span> è¨ˆç®—ï¼š3/7 - 1/7 = ?<span class="difficulty-tag medium">ä¸­ç­‰</span></h3>
            <div class="shape-container">
                <div class="vertical-fraction">
                    <span>3</span>
                    <div class="line"></div>
                    <span>7</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">-</span>
                <div class="vertical-fraction">
                    <span>1</span>
                    <div class="line"></div>
                    <span>7</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">=</span>
                <div class="vertical-fraction" style="border:2px dashed #9b59b6; padding:8px; min-width:50px;">
                    <span>?</span>
                    <div class="line"></div>
                    <span>?</span>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬4é¡Œï¼šå…¨æ–°è¨ˆç®—é¡Œ -->
        <div class="question" data-correct-n="5" data-correct-d="11">
            <h3><span class="question-number">4</span> è¨ˆç®—ï¼š3/11 + 2/11 = ?<span class="difficulty-tag medium">ä¸­ç­‰</span></h3>
            <div class="shape-container">
                <div class="vertical-fraction">
                    <span>3</span>
                    <div class="line"></div>
                    <span>11</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">+</span>
                <div class="vertical-fraction">
                    <span>2</span>
                    <div class="line"></div>
                    <span>11</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">=</span>
                <div class="vertical-fraction" style="border:2px dashed #9b59b6; padding:8px; min-width:50px;">
                    <span>?</span>
                    <div class="line"></div>
                    <span>?</span>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬5é¡Œï¼šå…¨æ–°åœ–å½¢é¡Œï¼ˆå…­é‚Šå½¢ï¼‰ -->
        <div class="question" data-correct-n="3" data-correct-d="8">
            <h3><span class="question-number">5</span> ç´…è‰²å…­é‚Šå½¢ä½”å…¨éƒ¨å…­é‚Šå½¢çš„å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ<span class="difficulty-tag medium">ä¸­ç­‰</span></h3>
            <div class="shape-container">
                <div class="hexagon-grid">
                    <div class="hexagon filled"></div>
                    <div class="hexagon filled"></div>
                    <div class="hexagon filled"></div>
                    <div class="hexagon"></div>
                    <div class="hexagon"></div>
                    <div class="hexagon"></div>
                    <div class="hexagon"></div>
                    <div class="hexagon"></div>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬6é¡Œï¼šå…¨æ–°è¨ˆç®—é¡Œ -->
        <div class="question" data-correct-n="7" data-correct-d="15">
            <h3><span class="question-number">6</span> è¨ˆç®—ï¼š4/15 + 3/15 = ?<span class="difficulty-tag medium">ä¸­ç­‰</span></h3>
            <div class="shape-container">
                <div class="vertical-fraction">
                    <span>4</span>
                    <div class="line"></div>
                    <span>15</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">+</span>
                <div class="vertical-fraction">
                    <span>3</span>
                    <div class="line"></div>
                    <span>15</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">=</span>
                <div class="vertical-fraction" style="border:2px dashed #9b59b6; padding:8px; min-width:50px;">
                    <span>?</span>
                    <div class="line"></div>
                    <span>?</span>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬7é¡Œï¼šå…¨æ–°è¨ˆç®—é¡Œï¼ˆè¼ƒé›£ï¼‰ -->
        <div class="question" data-correct-n="9" data-correct-d="13">
            <h3><span class="question-number">7</span> è¨ˆç®—ï¼š5/13 + 4/13 = ?<span class="difficulty-tag hard">å›°é›£</span></h3>
            <div class="shape-container">
                <div class="vertical-fraction">
                    <span>5</span>
                    <div class="line"></div>
                    <span>13</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">+</span>
                <div class="vertical-fraction">
                    <span>4</span>
                    <div class="line"></div>
                    <span>13</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">=</span>
                <div class="vertical-fraction" style="border:2px dashed #9b59b6; padding:8px; min-width:50px;">
                    <span>?</span>
                    <div class="line"></div>
                    <span>?</span>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬8é¡Œï¼šå…¨æ–°è¨ˆç®—é¡Œï¼ˆè¼ƒé›£ï¼‰ -->
        <div class="question" data-correct-n="7" data-correct-d="16">
            <h3><span class="question-number">8</span> è¨ˆç®—ï¼š11/16 - 4/16 = ?<span class="difficulty-tag hard">å›°é›£</span></h3>
            <div class="shape-container">
                <div class="vertical-fraction">
                    <span>11</span>
                    <div class="line"></div>
                    <span>16</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">-</span>
                <div class="vertical-fraction">
                    <span>4</span>
                    <div class="line"></div>
                    <span>16</span>
                </div>
                <span style="font-size:22px; margin: 0 10px;">=</span>
                <div class="vertical-fraction" style="border:2px dashed #9b59b6; padding:8px; min-width:50px;">
                    <span>?</span>
                    <div class="line"></div>
                    <span>?</span>
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬9é¡Œï¼šå…¨æ–°æ–‡å­—æ‡‰ç”¨é¡Œï¼ˆç„¡è¨ˆç®—å¼ï¼‰ -->
        <div class="question" data-correct-n="7" data-correct-d="10">
            <h3><span class="question-number">9</span> æ–‡å­—æ‡‰ç”¨é¡Œ<span class="difficulty-tag hard">å›°é›£</span></h3>
            <div class="word-problem">
                å°æ˜æœ‰ä¸€åŒ…ç³–æœï¼Œç¸½å…±æœ‰ 10 é¡†ã€‚ä»–åƒäº† 3 é¡†ï¼Œå¦¹å¦¹åƒäº† 4 é¡†ã€‚è«‹å•ä»–å€‘ä¸€å…±åƒäº†é€™åŒ…ç³–æœçš„å¹¾åˆ†ä¹‹å¹¾ï¼Ÿ
                <div style="margin-top: 10px; color: #7f8c8d; font-size: 16px;">
                    ğŸ’¡ æç¤ºï¼šè«‹è‡ªå·±åˆ—å‡ºç®—å¼ä¸¦è¨ˆç®—
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <!-- ç¬¬10é¡Œï¼šå…¨æ–°æ–‡å­—æ‡‰ç”¨é¡Œï¼ˆç„¡è¨ˆç®—å¼ï¼‰ -->
        <div class="question" data-correct-n="7" data-correct-d="18">
            <h3><span class="question-number">10</span> æ–‡å­—æ‡‰ç”¨é¡Œ<span class="difficulty-tag hard">å›°é›£</span></h3>
            <div class="word-problem">
                ä¸€ç›’å·§å…‹åŠ›æœ‰ 18 å¡Šã€‚å¼Ÿå¼Ÿåƒäº† 5 å¡Šï¼Œå§å§åƒäº† 2 å¡Šã€‚è«‹å•å¼Ÿå¼Ÿå’Œå§å§ä¸€å…±åƒäº†å¹¾åˆ†ä¹‹å¹¾ç›’å·§å…‹åŠ›ï¼Ÿ
                <div style="margin-top: 10px; color: #7f8c8d; font-size: 16px;">
                    ğŸ’¡ æç¤ºï¼šè«‹è‡ªå·±åˆ—å‡ºç®—å¼ä¸¦è¨ˆç®—
                </div>
            </div>
            <div class="answer-area">
                <div class="fraction-line-box">
                    <input type="number" class="num-input n-in" placeholder="åˆ†å­">
                    <div class="fraction-line"></div>
                    <input type="number" class="num-input d-in" placeholder="åˆ†æ¯">
                </div>
                <button class="submit-ans">æª¢æŸ¥ç­”æ¡ˆ</button>
            </div>
            <div class="feedback"></div>
        </div>

        <button class="reset-btn" id="reset-btn">ğŸ”„ é‡æ–°é–‹å§‹ç·´ç¿’</button>
    </div>

    <script>
        // åˆå§‹åŒ–éŠæˆ²
        document.addEventListener('DOMContentLoaded', function() {
            // è¨ˆç®—æœ€å¤§å…¬å› æ•¸çš„å‡½æ•¸
            function gcd(a, b) {
                if (b === 0) return a;
                return gcd(b, a % b);
            }
            
            // åŒ–ç°¡åˆ†æ•¸çš„å‡½æ•¸
            function simplifyFraction(numerator, denominator) {
                if (numerator === 0) return {n: 0, d: 1};
                const divisor = gcd(numerator, denominator);
                return {
                    n: numerator / divisor,
                    d: denominator / divisor
                };
            }
            
            // åˆå§‹åŒ–å¾—åˆ†
            let score = 0;
            const totalQuestions = 10;
            let answeredCount = 0;
            
            // æ›´æ–°åˆ†æ•¸é¡¯ç¤º
            function updateScoreDisplay() {
                document.getElementById('score').textContent = score;
                document.getElementById('total').textContent = totalQuestions;
                
                // è¨ˆç®—é€²åº¦ç™¾åˆ†æ¯”
                const progress = Math.round((answeredCount / totalQuestions) * 100);
                document.getElementById('progress').textContent = progress + '%';
                
                // æ›´æ–°é€²åº¦æ¢é¡è‰²
                const scoreArea = document.querySelector('.score-area');
                if (progress < 30) {
                    scoreArea.style.background = "linear-gradient(135deg, #ff7675 0%, #fd79a8 100%)";
                } else if (progress < 70) {
                    scoreArea.style.background = "linear-gradient(135deg, #fdcb6e 0%, #e17055 100%)";
                } else {
                    scoreArea.style.background = "linear-gradient(135deg, #00b894 0%, #00cec9 100%)";
                }
            }
            
            // ç‚ºæ‰€æœ‰æª¢æŸ¥ç­”æ¡ˆæŒ‰éˆ•æ·»åŠ äº‹ä»¶ç›£è½å™¨
            document.querySelectorAll('.submit-ans').forEach(button => {
                button.addEventListener('click', function() {
                    const question = this.closest('.question');
                    const nInput = question.querySelector('.n-in');
                    const dInput = question.querySelector('.d-in');
                    const feedback = question.querySelector('.feedback');
                    
                    // ç²å–ä½¿ç”¨è€…è¼¸å…¥
                    const userNumerator = parseInt(nInput.value) || 0;
                    const userDenominator = parseInt(dInput.value) || 0;
                    
                    // æª¢æŸ¥åˆ†æ¯æ˜¯å¦ç‚º0
                    if (userDenominator === 0) {
                        feedback.textContent = "âœ— åˆ†æ¯ä¸èƒ½ç‚º0ï¼";
                        feedback.className = "feedback wrong";
                        return;
                    }
                    
                    // æª¢æŸ¥æ˜¯å¦å·²å¡«å¯«
                    if (userNumerator === 0 && userDenominator === 0) {
                        feedback.textContent = "è«‹è¼¸å…¥ç­”æ¡ˆï¼";
                        feedback.className = "feedback wrong";
                        return;
                    }
                    
                    // ç²å–æ­£ç¢ºç­”æ¡ˆ
                    const correctNumerator = parseInt(question.getAttribute('data-correct-n'));
                    const correctDenominator = parseInt(question.getAttribute('data-correct-d'));
                    
                    // åŒ–ç°¡ä½¿ç”¨è€…è¼¸å…¥çš„åˆ†æ•¸
                    const simplifiedUser = simplifyFraction(userNumerator, userDenominator);
                    
                    // æª¢æŸ¥ç­”æ¡ˆï¼ˆå¿…é ˆæ˜¯æœ€ç°¡åˆ†æ•¸ï¼‰
                    if (simplifiedUser.n === correctNumerator && simplifiedUser.d === correctDenominator) {
                        feedback.textContent = "âœ“ æ­£ç¢ºï¼ç­”æ¡ˆæ˜¯æœ€ç°¡åˆ†æ•¸ã€‚";
                        feedback.className = "feedback correct";
                        
                        // å¦‚æœä¹‹å‰æ²’æœ‰å›ç­”éï¼Œå¢åŠ åˆ†æ•¸
                        if (!question.classList.contains('answered')) {
                            score++;
                            answeredCount++;
                            question.classList.add('answered');
                            
                            // ç¦ç”¨è¼¸å…¥æ¡†å’ŒæŒ‰éˆ•
                            nInput.disabled = true;
                            dInput.disabled = true;
                            this.disabled = true;
                            this.style.backgroundColor = '#95a5a6';
                            
                            updateScoreDisplay();
                        }
                    } else {
                        // æª¢æŸ¥ä½¿ç”¨è€…æ˜¯å¦è¼¸å…¥æœªåŒ–ç°¡çš„åˆ†æ•¸
                        const simplifiedCorrect = simplifyFraction(correctNumerator, correctDenominator);
                        const correctSimplified = simplifyFraction(correctNumerator, correctDenominator);
                        
                        if (userNumerator === correctNumerator && userDenominator === correctDenominator) {
                            feedback.textContent = "âœ— ç­”æ¡ˆå¿…é ˆæ˜¯æœ€ç°¡åˆ†æ•¸ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ " + correctSimplified.n + "/" + correctSimplified.d;
                        } else if (simplifiedUser.n === correctNumerator && simplifiedUser.d === correctDenominator) {
                            feedback.textContent = "âœ— ç­”æ¡ˆå¿…é ˆæ˜¯æœ€ç°¡åˆ†æ•¸ï¼ä½ è¼¸å…¥çš„ " + userNumerator + "/" + userDenominator + " å¯ä»¥åŒ–ç°¡ç‚º " + simplifiedUser.n + "/" + simplifiedUser.d;
                        } else {
                            feedback.textContent = "âœ— ä¸å°ï¼Œå†è©¦è©¦çœ‹ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ " + correctSimplified.n + "/" + correctSimplified.d;
                        }
                        feedback.className = "feedback wrong";
                        
                        // å¦‚æœä¹‹å‰æ²’æœ‰å›ç­”éï¼Œåªå¢åŠ å·²å›ç­”æ•¸
                        if (!question.classList.contains('answered')) {
                            answeredCount++;
                            question.classList.add('answered');
                            updateScoreDisplay();
                        }
                    }
                });
            });
            
            // ç‚ºè¼¸å…¥æ¡†æ·»åŠ Enteréµæäº¤åŠŸèƒ½
            document.querySelectorAll('.num-input').forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const submitBtn = this.closest('.answer-area').querySelector('.submit-ans');
                        if (submitBtn) {
                            submitBtn.click();
                        }
                    }
                });
            });
            
            // é‡æ–°é–‹å§‹æŒ‰éˆ•
            document.getElementById('reset-btn').addEventListener('click', function() {
                if (confirm('ç¢ºå®šè¦é‡æ–°é–‹å§‹å—ï¼Ÿæ‰€æœ‰ç­”æ¡ˆå°‡æœƒè¢«æ¸…é™¤ã€‚')) {
                    score = 0;
                    answeredCount = 0;
                    
                    document.querySelectorAll('.question').forEach(question => {
                        question.classList.remove('answered');
                        
                        const nInput = question.querySelector('.n-in');
                        const dInput = question.querySelector('.d-in');
                        const submitBtn = question.querySelector('.submit-ans');
                        const feedback = question.querySelector('.feedback');
                        
                        nInput.value = '';
                        nInput.disabled = false;
                        dInput.value = '';
                        dInput.disabled = false;
                        submitBtn.disabled = false;
                        submitBtn.style.backgroundColor = '';
                        feedback.textContent = '';
                        feedback.className = 'feedback';
                    });
                    
                    updateScoreDisplay();
                }
            });
            
            // åˆå§‹åŒ–åˆ†æ•¸é¡¯ç¤º
            updateScoreDisplay();
        });
    </script>
</body>
</html>
